@using HackYeah2018.APIHelperClass

@{
    ViewData["Title"] = "Account list";
}

@model List<Account>

<section class="mb-4">

    <!--Section heading-->
    <h2 class="h1-responsive font-weight-bold text-center my-4">Customer accounts list</h2>
    <!--Section description-->
    <p class="text-center w-responsive mx-auto mb-5">
        <table id="dtBasicExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th class="th-sm">
                        Account Number
                    </th>
                    <th class="th-sm">
                        Type Name
                    </th>
                    <th class="th-sm">
                        Description
                    </th>
                    <th class="th-sm">
                        Code
                    </th>
                    <th class="th-sm">
                        Booking Balance
                    </th>
                    <th class="th-sm">
                        Available Balance
                    </th>
                    <th class="text-center" style="width: 15%;">
                       Action
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                    {
                <tr>
                    <td>@item.accountNumber</td>
                    <td>@item.accountTypeName</td>
                    <td>@item.accountType.description</td>
                    <td>@item.accountType.code</td>
                    <td>@item.bookingBalance</td>
                    <td>@item.availableBalance</td>
                    <td class="text-center">
                        <a class="btn btn-sm btn-info"
                           href="@Url.Action("ShowTransactions", "Home", new { accountNumber = item.accountNumber })"
                           data-toggle="tooltip" title="Transactions">
                            <i class="fa fa-book"></i>
                        </a>
                        <a class="btn btn-sm btn-warning"
                           href="@Url.Action("ShowAccountInfo", "Home", new { accountNumber = item.accountNumber })"
                           data-toggle="tooltip" title="Account info">
                            <i class="fa fa-address-card"></i>
                        </a>
                        <a class="btn btn-sm btn-primary"
                           href="@Url.Action("ShowTransactionsChart", "Home", new { accountNumber = item.accountNumber })"
                           data-toggle="tooltip" title="Transactions chart">
                            <i class="fa fa-area-chart"></i>
                        </a>
                    </td>
                </tr>
                    }

            </tbody>
        </table>
    </p>

</section>

@section scripts {
    <environment names="Development,Staging,Production">
    </environment>

    <script>
        $(document).ready(function () {
            $('#dtBasicExample').DataTable();
            $('.dataTables_length').addClass('bs-select');
        });
    </script>

}
